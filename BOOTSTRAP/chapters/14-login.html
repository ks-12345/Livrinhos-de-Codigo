<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>14 - Login (Modelo)</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body{background:#f4f2ea;font-family:Inter,system-ui;padding:2rem}
    .panel{max-width:480px;margin:2rem auto;background:white;padding:1.25rem;border-radius:10px;box-shadow:0 10px 30px rgba(0,0,0,0.06)}
    .brand{font-weight:700;letter-spacing:0.2px}
    .small-muted{font-size:.85rem;color:#6c757d}
  </style>
</head>
<body>
  <a href="/LIVRINHO-CODIGO/BOOTSTRAP/index.html" class="btn btn-sm btn-outline-secondary mb-3">&larr; Voltar</a>

  <main class="panel">
    <div class="text-center mb-3">
      <div class="brand h5">üìí Caderno ‚Äî Acesso</div>
      <div class="small-muted">P√°gina de login de exemplo com valida√ß√£o e simula√ß√£o de autentica√ß√£o local</div>
    </div>

    <!-- Formul√°rio de login -->
    <!-- Explica√ß√£o r√°pida (comentada): 
         - use .form-control para inputs estilizados
         - atributo required para valida√ß√£o nativa
         - adicionamos valida√ß√£o JS que aplica .was-validated para mostrar mensagens
    -->
    <form id="loginForm" class="needs-validation" novalidate>
      <div class="mb-3">
        <label for="email" class="form-label">Email</label>
        <input id="email" type="email" class="form-control" placeholder="seu@exemplo.com" required>
        <div class="invalid-feedback">Por favor insira um email v√°lido.</div>
      </div>

      <div class="mb-3">
        <label for="password" class="form-label">Senha</label>
        <input id="password" type="password" minlength="6" class="form-control" placeholder="m√≠nimo 6 caracteres" required>
        <div class="invalid-feedback">Senha inv√°lida (m√≠nimo 6 caracteres).</div>
      </div>

      <div class="mb-3 form-check">
        <input id="remember" type="checkbox" class="form-check-input">
        <label for="remember" class="form-check-label">Lembrar deste dispositivo</label>
      </div>

      <div class="d-flex gap-2">
        <button type="submit" class="btn btn-primary">Entrar</button>
        <button type="button" id="demoFill" class="btn btn-outline-secondary">Preencher demo</button>
      </div>

      <div id="loginMsg" class="mt-3" style="display:none;"></div>
    </form>

    <hr>

    <section class="small-muted">
      <h6 class="mb-1">Notas sobre o c√≥digo</h6>
      <ul>
        <li>Valida√ß√£o: usamos <code>checkValidity()</code> e a classe <code>was-validated</code> para mostrar feedback.</li>
        <li>Autentica√ß√£o simulada: o login n√£o √© real ‚Äî o script verifica um usu√°rio demo fixo e salva um token no <code>localStorage</code> apenas para demonstrar fluxo.</li>
        <li>Em produ√ß√£o, nunca armazene senhas em texto ou use autentica√ß√£o sem servidor seguro.</li>
      </ul>
    </section>

    <pre style="background:#0b1220;color:#e6eef6;padding:1rem;border-radius:6px;margin-top:12px;white-space:pre-wrap"><code>&lt;!-- Exemplo resumido do form --&gt;
&lt;form class="needs-validation" novalidate&gt;
  &lt;input type="email" class="form-control" required&gt;
  &lt;input type="password" class="form-control" minlength="6" required&gt;
  &lt;button type="submit"&gt;Entrar&lt;/button&gt;
&lt;/form&gt;

&lt;!-- JS: valida e simula autentica√ß√£o --&gt;
document.getElementById('loginForm').addEventListener('submit', function(e){
  if (!form.checkValidity()) { e.preventDefault(); e.stopPropagation(); }
  form.classList.add('was-validated');
  // ...simula√ß√£o de login
});
</code></pre>
  </main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Demo user (simula√ß√£o)
  const DEMO_USER = { email: 'hall@demo.com', password: '123456' };

  document.addEventListener('DOMContentLoaded', function(){
    const form = document.getElementById('loginForm');
    const msg = document.getElementById('loginMsg');

    // preencher demo
    document.getElementById('demoFill').addEventListener('click', function(){
      document.getElementById('email').value = DEMO_USER.email;
      document.getElementById('password').value = DEMO_USER.password;
    });

    // captura submit e valida
    form.addEventListener('submit', function(e){
      e.preventDefault();
      e.stopPropagation();

      // valida HTML5
      if (!form.checkValidity()){
        form.classList.add('was-validated');
        return;
      }

      // pega valores
      const email = document.getElementById('email').value.trim();
      const password = document.getElementById('password').value;

      // simula verifica√ß√£o (N√ÉO usar em produ√ß√£o)
      if (email === DEMO_USER.email && password === DEMO_USER.password){
        // criar token simples e salvar (apenas demo)
        const token = 'token_' + Math.random().toString(36).slice(2,10);
        if (document.getElementById('remember').checked){
          localStorage.setItem('caderno_auth_token', token);
          localStorage.setItem('caderno_auth_user', email);
        } else {
          sessionStorage.setItem('caderno_auth_token', token);
          sessionStorage.setItem('caderno_auth_user', email);
        }
        showMessage('success', 'Login bem-sucedido! Token salvo localmente (demo).');
      } else {
        showMessage('danger', 'Credenciais incorretas. Use o bot√£o "Preencher demo" para testar.');
      }
    });

    function showMessage(type, text){
      msg.style.display = 'block';
      msg.className = '';
      msg.classList.add('alert', 'alert-' + type);
      msg.innerText = text;
      setTimeout(() => { msg.style.display = 'none'; }, 5000);
    }
  });
</script>
</body>
</html>
